



[toc]





# 命名规范

表面层次的改进包含以下几个方面：

1. 选择好的名字
2. 写好的注释
3. 代码格式

## 选择好的名字

好的名字可以让人一眼就知晓作用是什么，我们起名字的时候要围绕一下6个方面：

1. 选择专业的词汇
2. 避免泛泛的名字（或者说要知道什么时候使用它）
3. 有具体的名字代替抽象的名字
4. 使用前缀后者后缀给类的名字附加更多的信息
5. 决定名字的长度
6. 利用名字的格式来表达含义

### 选择专业的词

尽可能的把信息装到名字里面，比如 get 方法是开发中最常用的函数前缀，但是 get 并有表达更多的信息，礼物在获取数据的时候，这个数据来自本地缓存还是网络还是本地数据库。如果是从网络获取，更专业的名字应该是 fetchPage、downloadPage，如果从本地数据库获取使用 laodPage 更专业。

| 单词  | 更好的选择                                        |
| ----- | ------------------------------------------------- |
| send  | deliver、dispatch、announce、distribute、route    |
| find  | search、extract、locate、recover                  |
| start | launch、create、open、begin                       |
| make  | create、set up、build、generate、cmpose、add、new |
| get   | download、fetch、load                             |
|       |                                                   |

==清晰和精确比装可爱好的多==



## 避免泛泛的名字

例如 tmp 这个名字我们知道他表示临时，但是他具体指的是谁呢？当然这个名字和作用域有关系，如果是一个短小的函数内作为临时变量无可厚非，但是作为成员变量存在，会让人觉得太泛泛不知所云，必须跟踪定位到具体的代码结构才能知晓。

在命名的时候不要起带有歧义性和假大空的名字。



**循环迭代器**

想 i、j、k、iter、it 等常用作循环迭代和索引的名字尽快很空泛，但是大家知道他的意思也是可以的。但是如果循环迭代过于层级过深，推荐根据业务逻辑起名字，例如我们循环的是用户的名字：userIndex、nameIndex 等，这样更清晰。从根本上将我们要避免过度的循环嵌套，嵌套的层级最多3层。



千万不要因为懒惰而起这种泛泛的名字，平时多花几秒钟思考怎样才能起一个好的名字，慢慢的代码质量就会有很大改观。

## 用具体的名字代替抽象的名字

不用起一个太抽象的名字，让人看不出来这个类、函数是做什么的。言要达意==表达清楚它在做什么而不是怎么做==。

例如你有一个内部方法叫做 serverCanStart() 它的作用是检测服务是否可以监听某个给定的 TCP\IP 端口。但  serverCanStart() 这个名字太抽象了。单单看名字函数的作用为检测服务能否启动，服务能不能启动因素太多了，不能表达方法是==做什么的==，canLisenOnPort() 这个名字就更加具体了，一眼就看出它的作用。



## 为名字附带更多信息

一个变量名就像是一个小小的注释。尽管空间不是很大，但不管你在名中挤进任何额外的信息，每次有人看到这个变量的名字都会同事看到这些信息。因此如果一个标量有什么重要的事情读者必须知道，那么就值得把额外的”词“添加到名字中的。但也不要过度使用。



比如为名字添加单位后缀：

> delaySes
>
> sizeDp
>
> maxKb





## 名字应该多长

名字的清晰度和代码的作用域有很大关系。如果一个变量的作用域仅在函数内部，就算叫 tmp 这种模棱两可的名字也是没有问题的，但是夸类之间的使用，还是要多思考如何起一个清晰表达含义的名字。

所有：

> 1. 在小的作用域里面可以使用短的名字
> 2. 使用一些常见单词缩写，不要写一些不常见的缩写让队友一脸懵逼
> 3. 借助上下文缩减名字长度
> 4. 名字要使用常见词汇，可读可搜索。



## 利用名字的格式来表达含义

这一条个人觉得主要是对于团队合作的代码规范，团队喜欢使用驼峰式还是匈牙利式命名，你就采用什么。



## 不会误解的名字

不会引起误解的名字才是好名字——阅读你代码的人应该理解你的本意，并不会有其他的理解。==再决定使用一个名字的以前，要吹毛求疵一点，想象一下你的名字会被误解成什么。做好的名字是不会被误解的==

**重点**

1. 当定义一个值的上限或下限时，max和min是很好的前缀。

2. 对于包含的范围 first 和 last 是最好的选择。

3. 对于头部包含尾部排除的范围：begin 和 end 是最好的选择。
4. 为布尔值起名字的时候，使用 is、has、should、can 这样的词可以明确表达他是布尔值
5. 避免使用反义的词，这种情况经常出现在布尔值中，例如 enable = false 比 disable = true 更好。



==对于 getXX 很多程序都习惯把它当做“轻量级访问器”使用，它应该只是简单的返回一个函数的成员变量而已==。不要违背这个习惯，误导用户。

例如 

```java
pubc double getMean() {
	// 需要遍历所有的集合元素。
	…………
}
```

 在这个例子中，getMean()的实现是要遍历所有经过的数据并同时计算中值。如果有大量的数据的话，这样的一步可能会有很大的代价！但一个容易轻信的程序员可能会随意地调用getMean()，还以为这是个没什么代价的调用。相反，这个方法应当重命名为像computeMean()这样的名字，后者听起来更像是有些代价的操作。（另一种做法是，用新的实现方法使它真的成为一个轻量级的操作。）





# 注释

注释的目的是尽量帮助读者了解和作者一样多的信息。

并不是所有的代码都需要注释。阅读注释会占用阅读代码的时间、占用显示空间。那么注释一定要写的物有所值。所以==不要为那些从代码就能快速推断的事实写注释==



